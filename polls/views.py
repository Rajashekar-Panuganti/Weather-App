from django.shortcuts import render
from django.http import HttpResponse
from polls import app
import json

def home(request):
    resultdict = app.weatherapi()
    # if resultdict==None:
    #     return JsonResponse('API Rejected Data')
    ans = resultdict["data"]
    # return JsonResponse(ans,safe=False)
    json_data = json.dumps(ans)  # Convert data to JSON format
    
    response = HttpResponse(json_data, content_type='application/json')  # Set JSON content type
    
    return response

# def home(request):
#     # resultdict = app.weatherapi()
#     # if resultdict==None:
#     #     return JsonResponse('API Rejected Data')
#     # ans = resultdict["data"]
#     ans=[{"timestamp": "2023-08-22T18:00:00Z", "temperature": 24.31, "day": "08-22", "time": "06:00 PM"}, {"timestamp": "2023-08-22T19:00:00Z", "temperature": 24.96, "day": "08-22", "time": "07:00 PM"}, {"timestamp": "2023-08-22T20:00:00Z", "temperature": 22.37, "day": "08-22", "time": "08:00 PM"}, {"timestamp": "2023-08-22T21:00:00Z", "temperature": 21.26, "day": "08-22", "time": "09:00 PM"}, {"timestamp": "2023-08-22T22:00:00Z", "temperature": 20.36, "day": "08-22", "time": "10:00 PM"}, {"timestamp": "2023-08-22T23:00:00Z", "temperature": 19.63, "day": "08-22", "time": "11:00 PM"}, {"timestamp": "2023-08-23T00:00:00Z", "temperature": 18.92, "day": "08-23", "time": "12:00 AM"}, {"timestamp": "2023-08-23T01:00:00Z", "temperature": 18.3, "day": "08-23", "time": "01:00 AM"}, {"timestamp": "2023-08-23T02:00:00Z", "temperature": 17.83, "day": "08-23", "time": "02:00 AM"}, {"timestamp": "2023-08-23T03:00:00Z", "temperature": 17.45, "day": "08-23", "time": "03:00 AM"}, {"timestamp": "2023-08-23T04:00:00Z", "temperature": 16.95, "day": "08-23", "time": "04:00 AM"}, {"timestamp": "2023-08-23T05:00:00Z", "temperature": 16.39, "day": "08-23", "time": "05:00 AM"}, {"timestamp": "2023-08-23T06:00:00Z", "temperature": 15.79, "day": "08-23", "time": "06:00 AM"}, {"timestamp": "2023-08-23T07:00:00Z", "temperature": 15.71, "day": "08-23", "time": "07:00 AM"}, {"timestamp": "2023-08-23T08:00:00Z", "temperature": 17.32, "day": "08-23", "time": "08:00 AM"}, {"timestamp": "2023-08-23T09:00:00Z", "temperature": 18.92, "day": "08-23", "time": "09:00 AM"}, {"timestamp": "2023-08-23T10:00:00Z", "temperature": 20.78, "day": "08-23", "time": "10:00 AM"}, {"timestamp": "2023-08-23T11:00:00Z", "temperature": 22.33, "day": "08-23", "time": "11:00 AM"}, {"timestamp": "2023-08-23T12:00:00Z", "temperature": 23.73, "day": "08-23", "time": "12:00 PM"}, {"timestamp": "2023-08-23T13:00:00Z", "temperature": 24.76, "day": "08-23", "time": "01:00 PM"}, {"timestamp": "2023-08-23T14:00:00Z", "temperature": 25.34, "day": "08-23", "time": "02:00 PM"}, {"timestamp": "2023-08-23T15:00:00Z", "temperature": 25.67, "day": "08-23", "time": "03:00 PM"}, {"timestamp": "2023-08-23T16:00:00Z", "temperature": 25.2, "day": "08-23", "time": "04:00 PM"}, {"timestamp": "2023-08-23T17:00:00Z", "temperature": 24.18, "day": "08-23", "time": "05:00 PM"}, {"timestamp": "2023-08-23T18:00:00Z", "temperature": 23.16, "day": "08-23", "time": "06:00 PM"}, {"timestamp": "2023-08-23T19:00:00Z", "temperature": 21.98, "day": "08-23", "time": "07:00 PM"}, {"timestamp": "2023-08-23T20:00:00Z", "temperature": 20.51, "day": "08-23", "time": "08:00 PM"}, {"timestamp": "2023-08-23T21:00:00Z", "temperature": 19.86, "day": "08-23", "time": "09:00 PM"}, {"timestamp": "2023-08-23T22:00:00Z", "temperature": 19.47, "day": "08-23", "time": "10:00 PM"}, {"timestamp": "2023-08-23T23:00:00Z", "temperature": 19.83, "day": "08-23", "time": "11:00 PM"}, {"timestamp": "2023-08-24T00:00:00Z", "temperature": 17.79, "day": "08-24", "time": "12:00 AM"}, {"timestamp": "2023-08-24T01:00:00Z", "temperature": 19.89, "day": "08-24", "time": "01:00 AM"}, {"timestamp": "2023-08-24T02:00:00Z", "temperature": 19.98, "day": "08-24", "time": "02:00 AM"}, {"timestamp": "2023-08-24T03:00:00Z", "temperature": 20.21, "day": "08-24", "time": "03:00 AM"}, {"timestamp": "2023-08-24T04:00:00Z", "temperature": 20.15, "day": "08-24", "time": "04:00 AM"}, {"timestamp": "2023-08-24T05:00:00Z", "temperature": 20.13, "day": "08-24", "time": "05:00 AM"}, {"timestamp": "2023-08-24T06:00:00Z", "temperature": 20, "day": "08-24", "time": "06:00 AM"}, {"timestamp": "2023-08-24T07:00:00Z", "temperature": 19.98, "day": "08-24", "time": "07:00 AM"}, {"timestamp": "2023-08-24T08:00:00Z", "temperature": 19.85, "day": "08-24", "time": "08:00 AM"}, {"timestamp": "2023-08-24T09:00:00Z", "temperature": 20.74, "day": "08-24", "time": "09:00 AM"}, {"timestamp": "2023-08-24T10:00:00Z", "temperature": 21.63, "day": "08-24", "time": "10:00 AM"}, {"timestamp": "2023-08-24T11:00:00Z", "temperature": 22.52, "day": "08-24", "time": "11:00 AM"}, {"timestamp": "2023-08-24T12:00:00Z", "temperature": 22.6, "day": "08-24", "time": "12:00 PM"}, {"timestamp": "2023-08-24T13:00:00Z", "temperature": 23.91, "day": "08-24", "time": "01:00 PM"}, {"timestamp": "2023-08-24T14:00:00Z", "temperature": 24.14, "day": "08-24", "time": "02:00 PM"}, {"timestamp": "2023-08-24T15:00:00Z", "temperature": 24.38, "day": "08-24", "time": "03:00 PM"}, {"timestamp": "2023-08-24T16:00:00Z", "temperature": 23.27, "day": "08-24", "time": "04:00 PM"}, {"timestamp": "2023-08-24T17:00:00Z", "temperature": 22.88, "day": "08-24", "time": "05:00 PM"}, {"timestamp": "2023-08-24T18:00:00Z", "temperature": 22.36, "day": "08-24", "time": "06:00 PM"}, {"timestamp": "2023-08-24T19:00:00Z", "temperature": 21.89, "day": "08-24", "time": "07:00 PM"}, {"timestamp": "2023-08-24T20:00:00Z", "temperature": 21.46, "day": "08-24", "time": "08:00 PM"}, {"timestamp": "2023-08-24T21:00:00Z", "temperature": 21.77, "day": "08-24", "time": "09:00 PM"}, {"timestamp": "2023-08-24T22:00:00Z", "temperature": 22.19, "day": "08-24", "time": "10:00 PM"}, {"timestamp": "2023-08-24T23:00:00Z", "temperature": 22.68, "day": "08-24", "time": "11:00 PM"}, {"timestamp": "2023-08-25T00:00:00Z", "temperature": 22.42, "day": "08-25", "time": "12:00 AM"}, {"timestamp": "2023-08-25T01:00:00Z", "temperature": 22.11, "day": "08-25", "time": "01:00 AM"}, {"timestamp": "2023-08-25T02:00:00Z", "temperature": 22.04, "day": "08-25", "time": "02:00 AM"}, {"timestamp": "2023-08-25T03:00:00Z", "temperature": 21.29, "day": "08-25", "time": "03:00 AM"}, {"timestamp": "2023-08-25T04:00:00Z", "temperature": 20.86, "day": "08-25", "time": "04:00 AM"}, {"timestamp": "2023-08-25T05:00:00Z", "temperature": 20.95, "day": "08-25", "time": "05:00 AM"}, {"timestamp": "2023-08-25T06:00:00Z", "temperature": 20.7, "day": "08-25", "time": "06:00 AM"}, {"timestamp": "2023-08-25T07:00:00Z", "temperature": 21.17, "day": "08-25", "time": "07:00 AM"}, {"timestamp": "2023-08-25T08:00:00Z", "temperature": 21.32, "day": "08-25", "time": "08:00 AM"}, {"timestamp": "2023-08-25T09:00:00Z", "temperature": 21.89, "day": "08-25", "time": "09:00 AM"}, {"timestamp": "2023-08-25T10:00:00Z", "temperature": 22.66, "day": "08-25", "time": "10:00 AM"}, {"timestamp": "2023-08-25T11:00:00Z", "temperature": 24.11, "day": "08-25", "time": "11:00 AM"}, {"timestamp": "2023-08-25T12:00:00Z", "temperature": 26.15, "day": "08-25", "time": "12:00 PM"}, {"timestamp": "2023-08-25T13:00:00Z", "temperature": 26.71, "day": "08-25", "time": "01:00 PM"}, {"timestamp": "2023-08-25T14:00:00Z", "temperature": 26.88, "day": "08-25", "time": "02:00 PM"}, {"timestamp": "2023-08-25T15:00:00Z", "temperature": 27.17, "day": "08-25", "time": "03:00 PM"}, {"timestamp": "2023-08-25T16:00:00Z", "temperature": 27.7, "day": "08-25", "time": "04:00 PM"}, {"timestamp": "2023-08-25T17:00:00Z", "temperature": 27.38, "day": "08-25", "time": "05:00 PM"}, {"timestamp": "2023-08-25T18:00:00Z", "temperature": 27.19, "day": "08-25", "time": "06:00 PM"}, {"timestamp": "2023-08-25T19:00:00Z", "temperature": 26.45, "day": "08-25", "time": "07:00 PM"}, {"timestamp": "2023-08-25T20:00:00Z", "temperature": 25.22, "day": "08-25", "time": "08:00 PM"}, {"timestamp": "2023-08-25T21:00:00Z", "temperature": 24.74, "day": "08-25", "time": "09:00 PM"}, {"timestamp": "2023-08-25T22:00:00Z", "temperature": 24.32, "day": "08-25", "time": "10:00 PM"}, {"timestamp": "2023-08-25T23:00:00Z", "temperature": 23.75, "day": "08-25", "time": "11:00 PM"}, {"timestamp": "2023-08-26T00:00:00Z", "temperature": 22.9, "day": "08-26", "time": "12:00 AM"}, {"timestamp": "2023-08-26T01:00:00Z", "temperature": 22.47, "day": "08-26", "time": "01:00 AM"}, {"timestamp": "2023-08-26T02:00:00Z", "temperature": 22.21, "day": "08-26", "time": "02:00 AM"}, {"timestamp": "2023-08-26T03:00:00Z", "temperature": 22.21, "day": "08-26", "time": "03:00 AM"}, {"timestamp": "2023-08-26T04:00:00Z", "temperature": 21.68, "day": "08-26", "time": "04:00 AM"}, {"timestamp": "2023-08-26T05:00:00Z", "temperature": 21.51, "day": "08-26", "time": "05:00 AM"}, {"timestamp": "2023-08-26T06:00:00Z", "temperature": 21.66, "day": "08-26", "time": "06:00 AM"}, {"timestamp": "2023-08-26T07:00:00Z", "temperature": 21.52, "day": "08-26", "time": "07:00 AM"}, {"timestamp": "2023-08-26T08:00:00Z", "temperature": 21.85, "day": "08-26", "time": "08:00 AM"}, {"timestamp": "2023-08-26T09:00:00Z", "temperature": 22.94, "day": "08-26", "time": "09:00 AM"}, {"timestamp": "2023-08-26T10:00:00Z", "temperature": 24.55, "day": "08-26", "time": "10:00 AM"}, {"timestamp": "2023-08-26T11:00:00Z", "temperature": 26.27, "day": "08-26", "time": "11:00 AM"}, {"timestamp": "2023-08-26T12:00:00Z", "temperature": 27.54, "day": "08-26", "time": "12:00 PM"}, {"timestamp": "2023-08-26T13:00:00Z", "temperature": 28.54, "day": "08-26", "time": "01:00 PM"}, {"timestamp": "2023-08-26T14:00:00Z", "temperature": 29.51, "day": "08-26", "time": "02:00 PM"}, {"timestamp": "2023-08-26T15:00:00Z", "temperature": 29.38, "day": "08-26", "time": "03:00 PM"}, {"timestamp": "2023-08-26T16:00:00Z", "temperature": 27.87, "day": "08-26", "time": "04:00 PM"}, {"timestamp": "2023-08-26T17:00:00Z", "temperature": 27.48, "day": "08-26", "time": "05:00 PM"}, {"timestamp": "2023-08-26T18:00:00Z", "temperature": 26.32, "day": "08-26", "time": "06:00 PM"}, {"timestamp": "2023-08-26T19:00:00Z", "temperature": 25.25, "day": "08-26", "time": "07:00 PM"}, {"timestamp": "2023-08-26T20:00:00Z", "temperature": 24.4, "day": "08-26", "time": "08:00 PM"}, {"timestamp": "2023-08-26T21:00:00Z", "temperature": 22.65, "day": "08-26", "time": "09:00 PM"}, {"timestamp": "2023-08-26T22:00:00Z", "temperature": 20.44, "day": "08-26", "time": "10:00 PM"}, {"timestamp": "2023-08-26T23:00:00Z", "temperature": 20.34, "day": "08-26", "time": "11:00 PM"}, {"timestamp": "2023-08-27T00:00:00Z", "temperature": 19.8, "day": "08-27", "time": "12:00 AM"}, {"timestamp": "2023-08-27T01:00:00Z", "temperature": 19.23, "day": "08-27", "time": "01:00 AM"}, {"timestamp": "2023-08-27T02:00:00Z", "temperature": 18.8, "day": "08-27", "time": "02:00 AM"}, {"timestamp": "2023-08-27T03:00:00Z", "temperature": 18.65, "day": "08-27", "time": "03:00 AM"}, {"timestamp": "2023-08-27T04:00:00Z", "temperature": 18.74, "day": "08-27", "time": "04:00 AM"}, {"timestamp": "2023-08-27T05:00:00Z", "temperature": 18.75, "day": "08-27", "time": "05:00 AM"}, {"timestamp": "2023-08-27T06:00:00Z", "temperature": 18.7, "day": "08-27", "time": "06:00 AM"}, {"timestamp": "2023-08-27T07:00:00Z", "temperature": 18.82, "day": "08-27", "time": "07:00 AM"}, {"timestamp": "2023-08-27T08:00:00Z", "temperature": 19.41, "day": "08-27", "time": "08:00 AM"}, {"timestamp": "2023-08-27T09:00:00Z", "temperature": 20.77, "day": "08-27", "time": "09:00 AM"}, {"timestamp": "2023-08-27T10:00:00Z", "temperature": 22.13, "day": "08-27", "time": "10:00 AM"}, {"timestamp": "2023-08-27T11:00:00Z", "temperature": 23.48, "day": "08-27", "time": "11:00 AM"}, {"timestamp": "2023-08-27T12:00:00Z", "temperature": 24.49, "day": "08-27", "time": "12:00 PM"}, {"timestamp": "2023-08-27T13:00:00Z", "temperature": 25.49, "day": "08-27", "time": "01:00 PM"}, {"timestamp": "2023-08-27T14:00:00Z", "temperature": 26.5, "day": "08-27", "time": "02:00 PM"}, {"timestamp": "2023-08-27T15:00:00Z", "temperature": 25.83, "day": "08-27", "time": "03:00 PM"}, {"timestamp": "2023-08-27T16:00:00Z", "temperature": 25.16, "day": "08-27", "time": "04:00 PM"}, {"timestamp": "2023-08-27T17:00:00Z", "temperature": 24.49, "day": "08-27", "time": "05:00 PM"}, {"timestamp": "2023-08-27T18:00:00Z", "temperature": 23.86, "day": "08-27", "time": "06:00 PM"}, 24.31]
#     # return JsonResponse(ans,safe=False)
#     json_data = json.dumps(ans)  # Convert data to JSON format
    
#     response = HttpResponse(json_data, content_type='application/json')  # Set JSON content type
    
#     return response